import{G as e}from"./GoodsItem-C8w7vEgM.js";import{g as t}from"./homeAPI-CWBM64Ce.js";import{g as u}from"./categoryAPI-BZaA2DRV.js";import{u as o}from"./categoryStore-gfwTLews.js";import{_ as r}from"./index-SunJDMZF.js";import"./userStore-CKoVpXyO.js";const a=()=>{const e=Vue.ref([]);return Vue.onMounted((()=>(async()=>{const u=await t({distributionSite:"2"});e.value=u.result})())),{bannerList:e}},n={class:"top-category"},l={class:"container m-top-20"},V={class:"bread-container"},i={class:"home-banner"},c=["src"],s={class:"sub-list"},d=(e=>(Vue.pushScopeId("data-v-543aae8a"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("h3",null,"全部分类",-1))),m={key:0},p=["src"],k={key:1,style:{height:"160px"}},f={class:"head"},g={class:"body"},h={key:1,style:{height:"300px"}},B=r({__name:"Category",setup(t){const{bannerList:r}=a(),{categoryData:B}=(()=>{const e=VueRouter.useRoute(),t=Vue.ref({}),o=async(o=e.params.id)=>{const r=await u(o);t.value=r.result};return Vue.onMounted((()=>o())),VueRouter.onBeforeRouteUpdate((e=>{o(e.params.id)})),{categoryData:t}})(),v=o(),y=VueRouter.useRoute(),E=()=>{v.setFromLink(y.params.id)};return(t,u)=>{const o=Vue.resolveComponent("el-breadcrumb-item"),a=Vue.resolveComponent("el-breadcrumb"),v=Vue.resolveComponent("el-carousel-item"),y=Vue.resolveComponent("el-carousel"),N=Vue.resolveComponent("RouterLink"),w=Vue.resolveDirective("loading");return Vue.openBlock(),Vue.createElementBlock("div",n,[Vue.createElementVNode("div",l,[Vue.createElementVNode("div",V,[Vue.createVNode(a,{separator:">"},{default:Vue.withCtx((()=>[Vue.createVNode(o,{to:{path:"/"}},{default:Vue.withCtx((()=>[Vue.createTextVNode("首页")])),_:1}),Vue.createVNode(o,null,{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(t.$route.params.id===Vue.unref(B).id?Vue.unref(B).name:"..."),1)])),_:1})])),_:1})]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(y,{height:"500px"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(r),(e=>(Vue.openBlock(),Vue.createBlock(v,{key:e.id},{default:Vue.withCtx((()=>[Vue.createElementVNode("img",{src:e.imgUrl,alt:""},null,8,c)])),_:2},1024)))),128))])),_:1})])),[[w,0===Vue.unref(r).length]]),Vue.createElementVNode("div",s,[d,t.$route.params.id===Vue.unref(B).id?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("ul",m,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(B).children,(e=>(Vue.openBlock(),Vue.createElementBlock("li",{key:e.id},[Vue.createVNode(N,{onClick:E,to:`/category/${t.$route.params.id}/sub/${e.id}`},{default:Vue.withCtx((()=>[Vue.createElementVNode("img",{src:e.picture,alt:""},null,8,p),Vue.createElementVNode("p",null,Vue.toDisplayString(e.name),1)])),_:2},1032,["to"])])))),128))])),[[w,t.$route.params.id!==Vue.unref(B).id]]):Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",k,null,512)),[[w,t.$route.params.id!==Vue.unref(B).id]])]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(B).children,(u=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"ref-goods",key:u.id},[Vue.createElementVNode("div",f,[Vue.createElementVNode("h3",null,Vue.toDisplayString(t.$route.params.id===Vue.unref(B).id?`-${u.name}-`:"..."),1)]),Vue.createElementVNode("div",g,[t.$route.params.id===Vue.unref(B).id?(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,{key:0},Vue.renderList(u.goods,(u=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(e,{good:u,key:u.id},null,8,["good"])),[[w,t.$route.params.id!==Vue.unref(B).id]]))),128)):Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",h,null,512)),[[w,t.$route.params.id!==Vue.unref(B).id]])])])))),128))])])}}},[["__scopeId","data-v-543aae8a"]]);export{B as default};
