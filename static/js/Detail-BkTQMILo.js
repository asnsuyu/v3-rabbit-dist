import{h as e,a as t}from"./userStore-DvQOQ6Ie.js";import{_ as l}from"./index-CiL08aPX.js";const a={class:"goods-hot"},u=["src"],o={class:"name ellipsis"},n={class:"desc ellipsis"},V={class:"price"},c=l({__name:"DetailHot",props:{hotType:{type:Number,default:1}},setup(t){const l=t,c={1:"24小时热榜",2:"周热榜"},r=Vue.computed((()=>c[l.hotType])),s=Vue.ref([]),d=VueRouter.useRoute(),i=async()=>{const t=await(({id:t,type:l,limit:a=3})=>e({url:"/goods/hot",params:{id:t,type:l,limit:a}}))({id:d.params.id,type:l.hotType});s.value=t.result};return Vue.onMounted((()=>i())),(e,t)=>{const l=Vue.resolveComponent("RouterLink");return Vue.openBlock(),Vue.createElementBlock("div",a,[Vue.createElementVNode("h3",null,Vue.toDisplayString(r.value),1),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(s.value,(e=>(Vue.openBlock(),Vue.createBlock(l,{to:"/",class:"goods-item",key:e.id},{default:Vue.withCtx((()=>[Vue.createElementVNode("img",{src:e.picture,alt:""},null,8,u),Vue.createElementVNode("p",o,Vue.toDisplayString(e.name),1),Vue.createElementVNode("p",n,Vue.toDisplayString(e.desc),1),Vue.createElementVNode("p",V,"¥"+Vue.toDisplayString(e.price),1)])),_:2},1024)))),128))])}}},[["__scopeId","data-v-fa99eefc"]]),r=e=>(Vue.pushScopeId("data-v-32a7b529"),e=e(),Vue.popScopeId(),e),s={class:"xtx-goods-page"},d={class:"container"},i={key:0,class:"bread-container"},m={key:1,class:"info-container"},p={class:"goods-info"},N={class:"media"},E={class:"goods-sales"},v=r((()=>Vue.createElementVNode("p",null,"销量人气",-1))),g=r((()=>Vue.createElementVNode("p",null,[Vue.createElementVNode("i",{class:"iconfont icon-task-filling"}),Vue.createTextVNode("销量人气")],-1))),y=r((()=>Vue.createElementVNode("p",null,"商品评价",-1))),k=r((()=>Vue.createElementVNode("p",null,[Vue.createElementVNode("i",{class:"iconfont icon-comment-filling"}),Vue.createTextVNode("查看评价")],-1))),f=r((()=>Vue.createElementVNode("p",null,"收藏人气",-1))),h=r((()=>Vue.createElementVNode("p",null,[Vue.createElementVNode("i",{class:"iconfont icon-favorite-filling"}),Vue.createTextVNode("收藏商品")],-1))),x=r((()=>Vue.createElementVNode("p",null,"品牌信息",-1))),C=r((()=>Vue.createElementVNode("p",null,[Vue.createElementVNode("i",{class:"iconfont icon-dynamic-filling"}),Vue.createTextVNode("品牌主页")],-1))),S={class:"spec"},B={class:"g-name"},D={class:"g-desc"},_={class:"g-price"},b=r((()=>Vue.createElementVNode("div",{class:"g-service"},[Vue.createElementVNode("dl",null,[Vue.createElementVNode("dt",null,"促销"),Vue.createElementVNode("dd",null,"12月好物放送，App领券购买直降120元")]),Vue.createElementVNode("dl",null,[Vue.createElementVNode("dt",null,"服务"),Vue.createElementVNode("dd",null,[Vue.createElementVNode("span",null,"无忧退货"),Vue.createElementVNode("span",null,"快速退款"),Vue.createElementVNode("span",null,"免费包邮"),Vue.createElementVNode("a",{href:"javascript:"},"了解详情")])])],-1))),T={class:"goods-footer"},w={class:"goods-article"},I={class:"goods-tabs"},R=r((()=>Vue.createElementVNode("nav",null,[Vue.createElementVNode("a",null,"商品详情")],-1))),L={class:"goods-detail"},P={class:"attrs"},j={class:"dt"},F={class:"dd"},M=["src"],$={class:"goods-aside"},z=l({__name:"Detail",setup(l){const a=t(),u=Vue.ref(1),o=Vue.ref({}),n=VueRouter.useRoute(),V=async()=>{const t=await(l=n.params.id,e({url:"/goods",params:{id:l}}));var l;o.value=t.result};Vue.onMounted((()=>V()));let r={};const z=e=>{r=e},A=()=>{},H=()=>{r.skuId?a.addCart({id:o.value.id,name:o.value.name,picture:o.value.mainPictures[0],price:o.value.price,count:u.value,skuId:r.skuId,attrsText:r.specsText,selected:!0}):ElementPlus.ElMessage({message:"请选择商品规格",type:"warning",plain:!0})};return(e,t)=>{const l=Vue.resolveComponent("el-breadcrumb-item"),a=Vue.resolveComponent("el-breadcrumb"),n=Vue.resolveComponent("ImageView"),V=Vue.resolveComponent("Sku"),r=Vue.resolveComponent("el-input-number"),U=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createElementBlock("div",s,[Vue.createElementVNode("div",d,[o.value.details?(Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(a,{separator:">"},{default:Vue.withCtx((()=>[Vue.createVNode(l,{to:{path:"/"}},{default:Vue.withCtx((()=>[Vue.createTextVNode("首页")])),_:1}),Vue.createVNode(l,{to:{path:`/category/${o.value.categories[1].id}`}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(o.value.categories[1].name),1)])),_:1},8,["to"]),Vue.createVNode(l,{to:{path:`/category/sub/${o.value.categories[0].id}`}},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(o.value.categories[0].name),1)])),_:1},8,["to"]),Vue.createVNode(l,null,{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(o.value.name),1)])),_:1})])),_:1})])):Vue.createCommentVNode("",!0),o.value.details?(Vue.openBlock(),Vue.createElementBlock("div",m,[Vue.createElementVNode("div",null,[Vue.createElementVNode("div",p,[Vue.createElementVNode("div",N,[Vue.createVNode(n,{"image-list":o.value.mainPictures},null,8,["image-list"]),Vue.createElementVNode("ul",E,[Vue.createElementVNode("li",null,[v,Vue.createElementVNode("p",null,Vue.toDisplayString(o.value.salesCount)+"+",1),g]),Vue.createElementVNode("li",null,[y,Vue.createElementVNode("p",null,Vue.toDisplayString(o.value.commentCount)+"+",1),k]),Vue.createElementVNode("li",null,[f,Vue.createElementVNode("p",null,Vue.toDisplayString(o.value.collectCount)+"+",1),h]),Vue.createElementVNode("li",null,[x,Vue.createElementVNode("p",null,Vue.toDisplayString(o.value.brand.name),1),C])])]),Vue.createElementVNode("div",S,[Vue.createElementVNode("p",B,Vue.toDisplayString(o.value.name),1),Vue.createElementVNode("p",D,Vue.toDisplayString(o.value.desc),1),Vue.createElementVNode("p",_,[Vue.createElementVNode("span",null,Vue.toDisplayString(o.value.price),1),Vue.createElementVNode("span",null,Vue.toDisplayString(o.value.oldPrice),1)]),b,Vue.createVNode(V,{goods:o.value,onChange:z},null,8,["goods"]),Vue.createVNode(r,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),min:1,max:10,onChange:A},null,8,["modelValue"]),Vue.createElementVNode("div",null,[Vue.createVNode(U,{size:"large",class:"btn",onClick:H},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 加入购物车 ")])),_:1})])])]),Vue.createElementVNode("div",T,[Vue.createElementVNode("div",w,[Vue.createElementVNode("div",I,[R,Vue.createElementVNode("div",L,[Vue.createElementVNode("ul",P,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.value.details.properties,(e=>(Vue.openBlock(),Vue.createElementBlock("li",{key:e.value},[Vue.createElementVNode("span",j,Vue.toDisplayString(e.name),1),Vue.createElementVNode("span",F,Vue.toDisplayString(e.value),1)])))),128))]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.value.details.pictures,(e=>(Vue.openBlock(),Vue.createElementBlock("img",{key:e,src:e,alt:""},null,8,M)))),128))])])]),Vue.createElementVNode("div",$,[Vue.createVNode(c,{"hot-type":1}),Vue.createVNode(c,{"hot-type":2})])])])])):Vue.createCommentVNode("",!0)])])}}},[["__scopeId","data-v-32a7b529"]]);export{z as default};
